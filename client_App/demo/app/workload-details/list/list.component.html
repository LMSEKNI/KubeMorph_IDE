<demo></demo>

<mat-chip-list class="confirmation-chip-list" >
  <mat-chip *ngIf="resourceDeleted && resetOption" >
    <span class="confirmation-label">{{ ressourceName }} Deleted !</span>
    <mat-icon matChipRemove (click)="reset()">cancel</mat-icon>
  </mat-chip>
</mat-chip-list>


<div class="search-container">
  <div class="search-wrapper">
    <input type="text" placeholder="Search..." (click)="toggleChecklist()">

    <div class="checklist" [@openClose]="showChecklist ? 'open' : 'closed'">

      <div >
        <div>
          <label for="showPods">Show Pods</label>
          <input type="checkbox" id="showPods" name="showPods" (change)="togglePods($event.target.checked)">
        </div>

        <div>
          <label for="showNamespaces">Show Namespaces</label>
          <input  type="checkbox" id="showNamespaces" name="showNamespaces" (change)="toggleNamespaces($event.target.checked)">
        </div>

        <div>
          <label for="showDeployments">Show Deployments</label>
          <input  type="checkbox" id="showDeployments" name="showDeployments" (change)="toggleDeployments($event.target.checked)">
        </div>

        <div>
          <label for="showServices">Show Services</label>
          <input type="checkbox" id="showServices" name="showNamespaces" (change)="toggleServices($event.target.checked)">
        </div>

        <div>
          <label for="showReplicasets">Show ReplicaSets</label>
          <input type="checkbox" id="showReplicasets" name="showReplicasets" (change)="toggleReplicasets($event.target.checked)">
        </div>

        <div>
          <label for="showJobs">Show Jobs</label>
          <input type="checkbox" id="showJobs" name="showJobs" (change)="toggleJobs($event.target.checked)">
        </div>

        <div>
          <label for="showNodes">Show Nodes</label>
          <input type="checkbox" id="showNodes" name="showNodes" (change)="toggleNodes($event.target.checked)">
        </div>

        <div>
          <label for="showEndpoints">Show Endpoints</label>
          <input type="checkbox" id="showEndpoints" name="showEndpoints" (change)="toggleEndpoints($event.target.checked)">
        </div>
        <div>
          <label for="showConfigMaps">Show ConfigMaps</label>
          <input type="checkbox" id="showConfigMaps" name="showConfigMaps" (change)="toggleConfigMaps($event.target.checked)">
        </div>
        <div>
          <label for="showIngress">Show Ingress</label>
          <input type="checkbox" id="showIngress" name="showIngress" (change)="toggleIngress($event.target.checked)">
        </div>
        <div>
          <label for="showDeamon">Show DeamonSet</label>
          <input type="checkbox" id="showDeamon" name="showDeamon" (change)="toggleDeamonset($event.target.checked)">
        </div>
        <div>
          <label for="showPVC">Show PVC</label>
          <input type="checkbox" id="showPVC" name="showPVC" (change)="togglePVC($event.target.checked)">
        </div>
        <div>
          <label for="showSC">Show SC</label>
          <input type="checkbox" id="showSC" name="showSC" (change)="toggleSC($event.target.checked)">
        </div>
        <div>
          <label for="showStateful">Show stateful</label>
          <input type="checkbox" id="showStateful" name="showStateful" (change)="toggleStateful($event.target.checked)">
        </div>
        <div>
          <label for="showPV">Show PV</label>
          <input type="checkbox" id="showPV" name="showPV" (change)="togglePVs($event.target.checked)">
        </div>
      </div>
    </div>
  </div>
</div>
<!--
<div>
  <label for="showBoth">Show Both</label>
  <input type="checkbox" id="showBoth" name="showBoth" (change)="toggleBoth($event.target.checked)">
</div> -->

<!-- <div id="network" style="width: 100%; height: 500px; border: 1px solid lightgray;"></div> -->



<!-- <div class="top-label" >
  <span style="color: red;">Service deleted</span>
</div> -->

<div id="network"
     (click)="onNodeClick($event)"
     style="width: 100%; height: 500px; border: 1px solid lightgray;">
</div>

  <!-- <nav class="navbar">
    <div class="navbar-left">
      <h1>Details</h1>
    </div>
    <div class="navbar-right">
      <button class="close-icon" (click)="closeFrame()">&times;</button>
    </div>
  </nav> -->

  <div class="description-frame" [@frameAnimation]=" isFrameOpen ? 'open' : 'closed'">
    <div class="iconn flex items-center justify-between">
      <svg (click)="closeFrame()" class="w-6 h-6 mr-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24">
        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 17.94 6M18 18 6.06 6"/>
      </svg>
      <svg (click)="onDelete()"  class="w-6 h-6 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
        <path fill-rule="evenodd" d="M20 10H4v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8ZM9 13v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z" clip-rule="evenodd"/>
        <path d="M2 6a2 2 0 0 1 2-2h16a2 2 0 1 1 0 4H4a2 2 0 0 1-2-2Z"/>
      </svg>
      <svg (click)="toggleDropdown()" class="w-6 h-6 text-gray-800 dark:text-white" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" width="24" height="24" fill="currentColor" viewBox="0 0 24 24">
        <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
        <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5z"/>
      </svg>
      <div *ngIf="dropdownOpen" class="dropdown-menu absolute bg-white shadow-lg border mt-2">
        <button (click)="selectOption('form')" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">Form</button>
        <button (click)="selectOption('yaml')" class="block px-4 py-2 text-gray-800 hover:bg-gray-200">YAML</button>
      </div>

    </div>

    <br>
    <div class="description flex justify-center items-center h-full">
      <ng-container *ngIf="selectedComponent === 'desc'">
        <app-descc *ngIf="selectedResource" [resourceName]="selectedResource" [resourceType]="selectedType"></app-descc>
      </ng-container>
      <ng-container *ngIf="selectedComponent === 'form'">
        <app-dynamic-form-update></app-dynamic-form-update>
      </ng-container>
      <ng-container *ngIf="selectedComponent === 'yaml'">
        <app-yml-file-update [resourceName]="selectedResource" [resourceType]="selectedType" ></app-yml-file-update>
      </ng-container>
    </div>

  </div>

<div class="container" (mouseenter)="showChoices = true" (mouseleave)="showChoices = false">
  <button class="custom-color" mat-fab>{{ buttonText }}</button>

    <div *ngIf="showChoices" class="choices">
      <button mat-icon-button (click)="selectChoice('Form')">
        <mat-icon class="icon-color">description</mat-icon>
      </button>
      <button mat-icon-button (click)="selectChoice('Yml File')">
        <mat-icon class="icon-color">note_add</mat-icon>
      </button>
      <button mat-icon-button (click)="selectChoice('Import Yml File')">
        <mat-icon class="icon-color">downloading</mat-icon>
      </button>
    </div>
</div>


  <ng-template #dialogContentTemplate let-data >
    <mat-dialog-actions>
      <button (click)="onclose()" mat-icon-button aria-label="Close" style="position: absolute; top :38%; right: 37%; ">
        <mat-icon>close</mat-icon>
      </button>
      <br style="margin-top: 24px; margin-bottom: 24px;">
    </mat-dialog-actions>

    <mat-dialog-content>
      Are you sure you want to delete {{ressourceName}}?
    </mat-dialog-content>

    <mat-dialog-actions align="end">
      <button mat-button (click)="deleteressource()" style="background-color: rgb(11, 11, 65);">Delete</button>
      <button mat-button (click)="onclose()" style="background-color: rgb(231, 39, 39);">Cancel</button>
    </mat-dialog-actions>

  </ng-template>
